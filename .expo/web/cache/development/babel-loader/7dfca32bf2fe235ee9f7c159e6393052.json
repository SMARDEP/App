{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\emanu\\\\Downloads\\\\vendor-app-v3.0 (1)\\\\screens\\\\Earnings.js\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { Block, theme, Text } from \"galio-framework\";\nimport { Language } from \"../constants\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    width = _Dimensions$get.width;\n\nimport API from \"./../services/api\";\nimport EarningBox from \"./../components/EarningBox\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport config from \"./../config\";\nimport { LoadingIndicator } from 'react-native-expo-fancy-alerts';\nimport argonTheme from \"../constants/Theme\";\n\nfunction Earnings(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      earnings = _useState2[0],\n      setEarnings = _useState2[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      refreshing = _React$useState2[0],\n      setRefreshing = _React$useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      earningsLoaded = _useState4[0],\n      setEarningsLoaded = _useState4[1];\n\n  useEffect(function () {\n    if (config.DRIVER_APP) {\n      API.getDriverEarnings(function (earningsResponse) {\n        setEarnings(earningsResponse);\n        setRefreshing(false);\n        setEarningsLoaded(true);\n      }, function (error) {\n        setEarnings(null);\n        setRefreshing(false);\n        alert(error);\n        setEarningsLoaded(true);\n      });\n    }\n\n    if (config.VENDOR_APP) {\n      API.getVendorEarnings(function (earningsResponse) {\n        setEarnings(earningsResponse);\n        setRefreshing(false);\n        setEarningsLoaded(true);\n      }, function (error) {\n        setEarnings(null);\n        setRefreshing(false);\n        alert(error);\n        setEarningsLoaded(true);\n      });\n    } else {}\n  }, [refreshing]);\n  var onRefresh = React.useCallback(function () {\n    setRefreshing(true);\n  }, [refreshing]);\n  useEffect(function () {\n    var interval = setInterval(function () {\n      setRefreshing(true);\n    }, 30000);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, []);\n\n  function renderEarnings() {\n    if (earnings == null) {\n      return null;\n    } else {\n      return React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          paddingTop: 30\n        },\n        h2: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, Language.hi, \" \", earnings.user, \"!\"), React.createElement(Text, {\n        muted: true,\n        style: {\n          marginBottom: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, Language.today_you_have_made, \" \", earnings.today.earning.toFixed(2), config.currencySign, \" \", Language.by_doing, \" \", earnings.today.orders, \" \", Language.orders), React.createElement(EarningBox, {\n        earnings: earnings.today,\n        title: Language.today,\n        color: argonTheme.COLORS.PRIMARY,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 22\n        }\n      }), React.createElement(EarningBox, {\n        earnings: earnings.week,\n        title: Language.this_week,\n        color: argonTheme.COLORS.SUCCESS,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 22\n        }\n      }), React.createElement(EarningBox, {\n        earnings: earnings.month,\n        title: Language.this_month,\n        color: argonTheme.COLORS.WARNING,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 22\n        }\n      }), React.createElement(EarningBox, {\n        earnings: earnings.previous,\n        title: Language.previous_month,\n        color: argonTheme.COLORS.LABEL,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 22\n        }\n      }));\n    }\n  }\n\n  return React.createElement(Block, {\n    flex: true,\n    center: true,\n    style: styles.home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 1\n    }\n  }, React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    contentContainerStyle: styles.articles,\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }\n  }, React.createElement(Block, {\n    flex: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, renderEarnings())), React.createElement(LoadingIndicator, {\n    visible: !earningsLoaded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Earnings;\nvar styles = StyleSheet.create({\n  cartCheckout: {\n    backgroundColor: \"white\"\n  },\n  listStyle: {\n    padding: theme.SIZES.BASE\n  },\n  home: {\n    width: width\n  },\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE\n  },\n  actionButtons: {\n    backgroundColor: '#DCDCDC',\n    paddingHorizontal: 16,\n    paddingTop: 10,\n    paddingBottom: 9.5,\n    borderRadius: 3,\n    shadowColor: \"rgba(0, 0, 0, 0.1)\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 4,\n    shadowOpacity: 1\n  },\n  card: {\n    backgroundColor: theme.COLORS.WHITE,\n    marginVertical: theme.SIZES.BASE,\n    borderWidth: 0,\n    minHeight: 114,\n    marginBottom: 16\n  },\n  actioncard: {\n    backgroundColor: theme.COLORS.DARK_SUCCESS,\n    marginVertical: theme.SIZES.BASE,\n    borderWidth: 0,\n    minHeight: 50,\n    maxHeight: 50,\n    marginHorizontal: 16,\n    marginBottom: 16,\n    alignContent: 'center',\n    justifyContent: \"center\"\n  },\n  cardTitle: {\n    flex: 1,\n    flexWrap: 'wrap',\n    paddingBottom: 6\n  },\n  cardDescription: {\n    padding: theme.SIZES.BASE / 2\n  },\n  imageContainer: {\n    borderRadius: 3,\n    elevation: 1,\n    overflow: 'hidden',\n    resizeMode: \"cover\"\n  },\n  image: {},\n  horizontalImage: {\n    height: 122,\n    width: 'auto'\n  },\n  horizontalStyles: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0\n  },\n  verticalStyles: {\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0\n  },\n  fullImage: {\n    height: 200\n  },\n  shadow: {\n    shadowColor: theme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 4,\n    shadowOpacity: 0.1,\n    elevation: 2\n  }\n});","map":{"version":3,"sources":["C:/Users/emanu/Downloads/vendor-app-v3.0 (1)/screens/Earnings.js"],"names":["React","useState","useEffect","Block","theme","Text","Language","Dimensions","get","width","API","EarningBox","TouchableOpacity","config","LoadingIndicator","argonTheme","Earnings","navigation","earnings","setEarnings","refreshing","setRefreshing","earningsLoaded","setEarningsLoaded","DRIVER_APP","getDriverEarnings","earningsResponse","error","alert","VENDOR_APP","getVendorEarnings","onRefresh","useCallback","interval","setInterval","clearInterval","renderEarnings","paddingTop","hi","user","marginBottom","today_you_have_made","today","earning","toFixed","currencySign","by_doing","orders","COLORS","PRIMARY","week","this_week","SUCCESS","month","this_month","WARNING","previous","previous_month","LABEL","styles","home","articles","StyleSheet","create","cartCheckout","backgroundColor","listStyle","padding","SIZES","BASE","paddingVertical","actionButtons","paddingHorizontal","paddingBottom","borderRadius","shadowColor","shadowOffset","height","shadowRadius","shadowOpacity","card","WHITE","marginVertical","borderWidth","minHeight","actioncard","DARK_SUCCESS","maxHeight","marginHorizontal","alignContent","justifyContent","cardTitle","flex","flexWrap","cardDescription","imageContainer","elevation","overflow","resizeMode","image","horizontalImage","horizontalStyles","borderTopRightRadius","borderBottomRightRadius","verticalStyles","borderBottomLeftRadius","fullImage","shadow","BLACK"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  StyleSheet,\n  Dimensions,\n  ScrollView,\n  RefreshControl\n} from \"react-native\";\nimport { Block, theme, Text, } from \"galio-framework\";\nimport {Language } from \"../constants\";\nconst { width, } = Dimensions.get(\"screen\");\nimport API from './../services/api'\nimport EarningBox from \"./../components/EarningBox\"\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport config from './../config'\nimport {  LoadingIndicator } from 'react-native-expo-fancy-alerts'\nimport argonTheme from \"../constants/Theme\";\n\nfunction Earnings({navigation}){\n    \n    const [earnings, setEarnings]=useState(null);\n    const [refreshing, setRefreshing] = React.useState(false);\n    const [earningsLoaded,setEarningsLoaded]=useState(false);\n\n    useEffect(()=>{\n      if(config.DRIVER_APP){\n        //Driver get orders\n        API.getDriverEarnings((earningsResponse)=>{\n          setEarnings(earningsResponse);\n          setRefreshing(false);\n          setEarningsLoaded(true);\n        },(error)=>{\n          setEarnings(null);\n          setRefreshing(false);\n          alert(error);\n          setEarningsLoaded(true);\n        })\n      }if(config.VENDOR_APP){\n        //Driver get orders\n        API.getVendorEarnings((earningsResponse)=>{\n          setEarnings(earningsResponse);\n          setRefreshing(false);\n          setEarningsLoaded(true);\n        },(error)=>{\n          setEarnings(null);\n          setRefreshing(false);\n          alert(error);\n          setEarningsLoaded(true);\n        })\n      }else{\n      }\n    },[refreshing])\n\n    const onRefresh = React.useCallback(() => {\n      setRefreshing(true);      \n    }, [refreshing]);\n\n    //Timer\n    useEffect(() => {\n      const interval = setInterval(() => {\n        setRefreshing(true);\n      }, 30000);\n      return () => clearInterval(interval);\n    }, []);\n\n\n    function renderEarnings(){\n        if(earnings==null){\n            return null\n        }else{\n            return(\n                <Block >\n                    <Text style={{paddingTop:30}} h2>{Language.hi} {earnings.user}!</Text>\n                    <Text muted style={{marginBottom:20}}>{Language.today_you_have_made} {earnings.today.earning.toFixed(2)}{config.currencySign} {Language.by_doing} {earnings.today.orders} {Language.orders}</Text>\n                     \n                     <EarningBox earnings={earnings.today} title={Language.today} color={argonTheme.COLORS.PRIMARY} />\n                     <EarningBox earnings={earnings.week} title={Language.this_week} color={argonTheme.COLORS.SUCCESS} />\n                     <EarningBox earnings={earnings.month} title={Language.this_month} color={argonTheme.COLORS.WARNING} />\n                     <EarningBox earnings={earnings.previous} title={Language.previous_month} color={argonTheme.COLORS.LABEL} />\n                </Block>\n           )\n        }\n    } \n\nreturn (\n<Block flex center style={styles.home}>\n  \n<ScrollView\n            showsVerticalScrollIndicator={false}\n            contentContainerStyle={styles.articles}\n            refreshControl={\n              <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n            }\n            >\n            <Block flex  >\n               {renderEarnings()} \n                \n            </Block>\n        </ScrollView>\n        <LoadingIndicator  visible={!earningsLoaded}/>\n</Block>\n)\n\n\n}\nexport default Earnings;\n\nconst styles = StyleSheet.create({\n    cartCheckout: {\n      backgroundColor:\"white\"\n      },\n      listStyle:{\n          padding:theme.SIZES.BASE,\n      },\n    home: {\n      width: width,    \n    },\n    articles: {\n      width: width - theme.SIZES.BASE * 2,\n      paddingVertical: theme.SIZES.BASE,\n    },\n    actionButtons:{\n  \n      //width: 100,\n      backgroundColor: '#DCDCDC',\n      paddingHorizontal: 16,\n      paddingTop: 10,\n      paddingBottom:9.5,\n      borderRadius: 3,\n      shadowColor: \"rgba(0, 0, 0, 0.1)\",\n      shadowOffset: { width: 0, height: 2 },\n      shadowRadius: 4,\n      shadowOpacity: 1,\n    \n    },\n    card: {\n      backgroundColor: theme.COLORS.WHITE,\n      marginVertical: theme.SIZES.BASE,\n      borderWidth: 0,\n      minHeight: 114,\n      marginBottom: 16\n    },\n    actioncard: {\n      backgroundColor: theme.COLORS.DARK_SUCCESS,\n      marginVertical: theme.SIZES.BASE,\n      borderWidth: 0,\n      minHeight: 50,\n      maxHeight: 50,\n      marginHorizontal:16,\n      marginBottom: 16,\n      alignContent:'center',\n      justifyContent:\"center\"\n    },\n    cardTitle: {\n      flex: 1,\n      flexWrap: 'wrap',\n      paddingBottom: 6\n    },\n    cardDescription: {\n      padding: theme.SIZES.BASE / 2\n    },\n    imageContainer: {\n      borderRadius: 3,\n      elevation: 1,\n      overflow: 'hidden',\n      resizeMode: \"cover\"\n    },\n    image: {\n      // borderRadius: 3,\n    },\n    horizontalImage: {\n      height: 122,\n      width: 'auto',\n    },\n    horizontalStyles: {\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n    },\n    verticalStyles: {\n      borderBottomRightRadius: 0,\n      borderBottomLeftRadius: 0\n    },\n    fullImage: {\n      height: 200\n    },\n    shadow: {\n      shadowColor: theme.COLORS.BLACK,\n      shadowOffset: { width: 0, height: 2 },\n      shadowRadius: 4,\n      shadowOpacity: 0.1,\n      elevation: 2,\n    },\n  });\n"]},"metadata":{},"sourceType":"module"}