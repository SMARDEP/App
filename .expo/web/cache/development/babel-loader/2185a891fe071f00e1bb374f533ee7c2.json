{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nfunction getTheloggedInUser(callback) {\n  var userJSON;\n  return _regeneratorRuntime.async(function getTheloggedInUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem('user', null));\n\n        case 3:\n          userJSON = _context.sent;\n\n          if (userJSON !== null) {\n            callback(JSON.parse(userJSON));\n          } else {\n            callback(JSON.parse(null));\n          }\n\n          _context.next = 10;\n          break;\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          callback(null);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\n\nexports.getTheloggedInUser = getTheloggedInUser;\n\nfunction setLoggedInUser(user, callback) {\n  return _regeneratorRuntime.async(function setLoggedInUser$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"passed token \" + user.token);\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', user.token));\n\n        case 3:\n          user.userToken = user.token;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem('user', JSON.stringify(user)));\n\n        case 6:\n          callback(true);\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexports.setLoggedInUser = setLoggedInUser;\n\nfunction logout(callback) {\n  return _regeneratorRuntime.async(function logout$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.removeItem('token'));\n\n        case 3:\n          _context3.next = 5;\n          return _regeneratorRuntime.awrap(AsyncStorage.removeItem('user'));\n\n        case 5:\n          callback(true);\n          _context3.next = 11;\n          break;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          callback(false);\n\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n}\n\nexports.logout = logout;","map":{"version":3,"sources":["C:/Users/emanu/Downloads/vendor-app-v3.0 (1)/services/user.js"],"names":["AsyncStorage","getTheloggedInUser","callback","getItem","userJSON","JSON","parse","exports","setLoggedInUser","user","console","log","token","setItem","userToken","stringify","logout","removeItem"],"mappings":";AAAA,OAAOA,YAAP,MAAyB,2CAAzB;;AAEA,SAAeC,kBAAf,CAAkCC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAE4BF,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA4B,IAA5B,CAF5B;;AAAA;AAEWC,UAAAA,QAFX;;AAGO,cAAIA,QAAQ,KAAK,IAAjB,EAAuB;AACtBF,YAAAA,QAAQ,CAACG,IAAI,CAACC,KAAL,CAAWF,QAAX,CAAD,CAAR;AACA,WAFD,MAEK;AACJF,YAAAA,QAAQ,CAACG,IAAI,CAACC,KAAL,CAAW,IAAX,CAAD,CAAR;AACA;;AAPR;AAAA;;AAAA;AAAA;AAAA;AAUOJ,UAAAA,QAAQ,CAAC,IAAD,CAAR;;AAVP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcAK,OAAO,CAACN,kBAAR,GAA2BA,kBAA3B;;AAEA,SAAeO,eAAf,CAA+BC,IAA/B,EAAoCP,QAApC;AAAA;AAAA;AAAA;AAAA;AACEQ,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAgBF,IAAI,CAACG,KAAjC;AADF;AAAA,2CAEQZ,YAAY,CAACa,OAAb,CAAqB,OAArB,EAA6BJ,IAAI,CAACG,KAAlC,CAFR;;AAAA;AAGEH,UAAAA,IAAI,CAACK,SAAL,GAAeL,IAAI,CAACG,KAApB;AAHF;AAAA,2CAIQZ,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA4BR,IAAI,CAACU,SAAL,CAAeN,IAAf,CAA5B,CAJR;;AAAA;AAKEP,UAAAA,QAAQ,CAAC,IAAD,CAAR;;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOAK,OAAO,CAACC,eAAR,GAAwBA,eAAxB;;AAEA,SAAeQ,MAAf,CAAsBd,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEUF,YAAY,CAACiB,UAAb,CAAwB,OAAxB,CAFV;;AAAA;AAAA;AAAA,2CAGUjB,YAAY,CAACiB,UAAb,CAAwB,MAAxB,CAHV;;AAAA;AAIIf,UAAAA,QAAQ,CAAC,IAAD,CAAR;AAJJ;AAAA;;AAAA;AAAA;AAAA;AAOIA,UAAAA,QAAQ,CAAC,KAAD,CAAR;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUAK,OAAO,CAACS,MAAR,GAAeA,MAAf","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\nasync function getTheloggedInUser(callback) {\n     try {\n       var userJSON = await AsyncStorage.getItem('user',null);\n       if (userJSON !== null) {\n        callback(JSON.parse(userJSON));\n       }else{\n        callback(JSON.parse(null));\n       }\n     } catch (error) {\n       // Error retrieving data\n       callback(null);\n     }\n\n    }\nexports.getTheloggedInUser=getTheloggedInUser;\n\nasync function setLoggedInUser(user,callback){\n  console.log(\"passed token \"+user.token);\n  await AsyncStorage.setItem('token',user.token);\n  user.userToken=user.token;\n  await AsyncStorage.setItem('user',JSON.stringify(user));\n  callback(true);\n}\nexports.setLoggedInUser=setLoggedInUser;\n\nasync function logout(callback){\n  try {\n    await AsyncStorage.removeItem('token');\n    await AsyncStorage.removeItem('user');\n    callback(true);\n  } catch (error) {\n    // Error retrieving data\n    callback(false);\n  }\n}\nexports.logout=logout;\n"]},"metadata":{},"sourceType":"module"}